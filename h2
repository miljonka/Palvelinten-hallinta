### x) Lue ja tiivistä (Tässä x-alakohdassa pelkkä luku / katselu / kuuntelu riittää, ei tarvitse tehdä testejä tietokoneella. Muutama ranskalainen viiva per artikkeli riittää)

[Karvinen 2020: Command Line Basics Revisited](https://terokarvinen.com/2020/command-line-basics-revisited/)
- artikkeli sisältää paljon hyödyllisiä komentoja, joita voi käyttää Linuxin komentorivillä.
- komennot on avattu selityksillä ja esimerkeillä.

[Karvinen 2018: Salt States – I Want My Computers Like This](https://terokarvinen.com/2018/salt-states-i-want-my-computers-like-this/)
- artikkelissa on ohjeet, joilla voidaan määrittää tietokoneisiin halutut palvelut ja toiminnot Masterin ohjeistuksilla Orjille.
- sisältää linkin Salt Quickstart artikkeliin, jossa on ohjeet ja komennot Mestarin ja Orjan asennukseen.

[Karvinen 2006: Raportin kirjoittaminen](https://terokarvinen.com/2006/raportin-kirjoittaminen-4/?fromSearch=raportin%20kirjoittaminen)
- artikkelissa on ohjeita raportin kirjoittamista varten, kun testataan tietokoneella jotakin.
- esimerkkejä hyvistä käytänteistä ja vaatimuksista, sekä pahimmista mokista.


### a) Tee Saltilla tiedosto yksittäisellä komentorivillä (state.single)

Aloitin harjoitusten tekemisen omalla koneella VirtualBoxin kautta Ubuntu Serverillä (22.04.1).
Lähdin harjoitusten tekoon Tero Karvisen ensimmäisen Palvelinten hallinta -opetuskerran pohjalta.


Tiedoston tekeminen onnistui komennolla:

`sudo salt-call --local state.single file.managed /tmp/miikawashere`

![7501731294f00d7c15dab7772500f55e](https://user-images.githubusercontent.com/112076418/198297451-906fc720-5441-408e-a827-0e5a98cd7826.png)

Tarkistin vielä, että tiedosto oli varmasti luotu, ja että se oli oikeassa paikassa:

`ls /tmp/`

![d8077808f95ae7b66395b992e6873596](https://user-images.githubusercontent.com/112076418/198300786-f2e3aa6f-5be0-4618-abba-97bf73c1fa07.png)


### b) Tee saltille idempotentti, infra koodina hei maailma (siis tiedostosta, /srv/salt/foo.sls)

Lisäsin /srv/salt polkuun kansion `hello` ja sinne tiedoston init.sls

Tämän jälkeen lisäsin tiedostoon koodia.

`sudoedit /srv/salt/hello/init.sls`

![66df8351aa6ea689f9f620f628cdbd9b](https://user-images.githubusercontent.com/112076418/198415460-da590dbe-cd71-4efb-904d-395e68d43a93.png)

Testasin toimiiko koodi vai tuleeko erroreita komennolla:

`sudo salt-call --local state.apply hello`

![oo](https://user-images.githubusercontent.com/112076418/198416306-9508a005-9bc8-4925-b77b-59e8a6655356.png)

Uusi tiedosto luotu. Tarkistin vielä, että se löytyi sieltä mistä kuuluikin.

![toimi1i](https://user-images.githubusercontent.com/112076418/198421097-12bcf5c4-bc99-4fe3-ae09-51d09f46a449.png)


### d) Kerää tietoa koneesta saltin avulla (grains.items)

`sudo salt-call --local grains.items | less` komennolla pystyin selata koneen tietoja

![grains](https://user-images.githubusercontent.com/112076418/198416457-a2e0d194-feb7-4726-a6b5-487fbd088811.png)

****e)** Kokeile jotain toista tilaa kuin file.managed.**

Halusin kokeilla tilaa `pkg.installed` ja tarkoituksena oli asentaa nudoku peli samassa yhteydessä kun lisätään helloworld tiedosto.
Apua oikean koodin löytämiseen sain sys.state_doc tiedostosta komennolla: `sudo salt-call --local sys.state_doc pkg.installed|less`

Lisäsin koodin samaan tiedostoon aikaisemman kanssa.
`sudoedit /srv/salt/hello/init.sls`

![2527ab6f787b97d5d1f915772a18ef7b](https://user-images.githubusercontent.com/112076418/198417008-002d4553-5cfd-4421-ac5c-67f2eac4fe29.png)

Testasin toimivuutta taas `sudo salt-call --local state.apply hello` komennolla.

![df6d360d24138fe81d17935cd8d5f1dd - Copy](https://user-images.githubusercontent.com/112076418/198417222-b62e844b-4a22-4544-9eb1-69b7cc86336c.png)

Varmistin vielä, että onnistuiko asennus avaamalla pelin komennolla `nudoku`

![nudoku1](https://user-images.githubusercontent.com/112076418/198417446-db515c68-83ab-4199-9783-2a43b36872d6.png)

Hyvin pelittää

### Lähteet

Karvinen, Tero: Ensimmäinen oppitunti 2022-10-28, Palvelinten hallinta -kurssi

Karvinen, Tero 2018: Salt States – I Want My Computers Like This: https://terokarvinen.com/2018/salt-states-i-want-my-computers-like-this/
